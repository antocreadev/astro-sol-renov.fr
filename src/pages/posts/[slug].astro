---
import Layout from "../../layouts/Layout.astro";
import Navbar from "../../components/Navbar.astro";
import PostDetailSection from "../../components/PostDetailSection";

// Désactive le pré-rendu pour cette route dynamique
export const prerender = false;

const { slug } = Astro.params;

if (!slug) {
  return Astro.redirect("/posts");
}

const seoData = {
  title: `Post SolRenov - Rénovation Énergétique & Panneaux Solaires`,
  description:
    "Découvrez nos actualités, conseils et projets de rénovation énergétique avec SolRenov.",
  keywords:
    "actualités rénovation énergétique, blog panneaux solaires, conseils isolation, projets rénovation",
};
---

<Layout {...seoData}>
  <main
    class="min-h-screen bg-gradient-to-br from-slate-50 via-green-50 to-green-100"
  >
    <Navbar />

    <div class="pt-24">
      <PostDetailSection client:load postId={slug} />
    </div>
  </main>
</Layout>
